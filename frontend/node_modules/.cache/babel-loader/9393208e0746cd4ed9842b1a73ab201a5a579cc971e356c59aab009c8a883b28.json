{"ast":null,"code":"var _jsxFileName = \"F:\\\\mentor\\\\ktx\\\\frontend\\\\src\\\\pages\\\\user\\\\RoomRegistration.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Container, Typography, Paper, Grid, TextField, Button, FormControl, InputLabel, Select, MenuItem, Alert, CircularProgress, Stepper, Step, StepLabel, Card, CardContent, Divider } from '@mui/material';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { roomService } from '../../services/room.service';\nimport { roomAssignmentService } from '../../services/roomAssignment.service';\nimport { format } from 'date-fns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst steps = ['Thông tin phòng', 'Thông tin đăng ký', 'Xác nhận'];\nexport const RoomRegistration = () => {\n  _s();\n  const {\n    roomId\n  } = useParams();\n  const navigate = useNavigate();\n  const [activeStep, setActiveStep] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [room, setRoom] = useState(null);\n  const [formData, setFormData] = useState({\n    startDate: '',\n    endDate: '',\n    paymentMethod: 'monthly',\n    agreement: false\n  });\n  useEffect(() => {\n    fetchRoomData();\n  }, [roomId]);\n  const fetchRoomData = async () => {\n    try {\n      setLoading(true);\n      if (roomId) {\n        const roomData = await roomService.getRoomById(parseInt(roomId));\n        setRoom(roomData);\n      }\n      setLoading(false);\n    } catch (err) {\n      setError(err.message || 'Không thể tải thông tin phòng');\n      setLoading(false);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleCheckboxChange = e => {\n    const {\n      name,\n      checked\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: checked\n    });\n  };\n  const handleNext = () => {\n    setActiveStep(prevStep => prevStep + 1);\n  };\n  const handleBack = () => {\n    setActiveStep(prevStep => prevStep - 1);\n  };\n  const handleSubmit = async () => {\n    try {\n      setLoading(true);\n      if (room) {\n        await roomAssignmentService.assignRoom({\n          roomId: room.id,\n          studentId: 1,\n          // TODO: Get actual student ID from auth context\n          startDate: formData.startDate,\n          endDate: formData.endDate\n        });\n        setSuccess('Đăng ký phòng thành công!');\n        setTimeout(() => {\n          navigate('/user/home');\n        }, 2000);\n      }\n    } catch (err) {\n      setError(err.message || 'Không thể đăng ký phòng');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const isStepValid = () => {\n    switch (activeStep) {\n      case 0:\n        return !!room;\n      case 1:\n        return !!formData.startDate && !!formData.endDate && !!formData.paymentMethod;\n      case 2:\n        return formData.agreement;\n      default:\n        return false;\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      minHeight: \"60vh\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 4,\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: \"\\u0110\\u0103ng k\\xFD ph\\xF2ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stepper, {\n        activeStep: activeStep,\n        sx: {\n          mb: 4\n        },\n        children: steps.map(label => /*#__PURE__*/_jsxDEV(Step, {\n          children: /*#__PURE__*/_jsxDEV(StepLabel, {\n            children: label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)\n        }, label, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"success\",\n        sx: {\n          mb: 2\n        },\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 3\n        },\n        children: [activeStep === 0 && room && /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Th\\xF4ng tin ph\\xF2ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            variant: \"outlined\",\n            sx: {\n              mb: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  sm: 6,\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"subtitle1\",\n                    children: [\"Ph\\xF2ng \", room.roomNumber]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    color: \"textSecondary\",\n                    children: [\"T\\xF2a \", room.building, \" - T\\u1EA7ng \", room.floor]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  sm: 6,\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"subtitle1\",\n                    children: room.type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    color: \"textSecondary\",\n                    children: [room.price.toLocaleString('vi-VN'), \" VN\\u0110/th\\xE1ng\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: [\"S\\u1EE9c ch\\u1EE9a: \", room.currentOccupancy, \"/\", room.capacity]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'flex-end'\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              onClick: handleNext,\n              disabled: !isStepValid(),\n              children: \"Ti\\u1EBFp theo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this), activeStep === 1 && /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Th\\xF4ng tin \\u0111\\u0103ng k\\xFD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Ng\\xE0y b\\u1EAFt \\u0111\\u1EA7u\",\n                type: \"date\",\n                name: \"startDate\",\n                value: formData.startDate,\n                onChange: handleInputChange,\n                InputLabelProps: {\n                  shrink: true\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Ng\\xE0y k\\u1EBFt th\\xFAc\",\n                type: \"date\",\n                name: \"endDate\",\n                value: formData.endDate,\n                onChange: handleInputChange,\n                InputLabelProps: {\n                  shrink: true\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  children: \"Ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  name: \"paymentMethod\",\n                  value: formData.paymentMethod,\n                  onChange: handleInputChange,\n                  label: \"Ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n\",\n                  children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"monthly\",\n                    children: \"Thanh to\\xE1n h\\xE0ng th\\xE1ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"quarterly\",\n                    children: \"Thanh to\\xE1n 3 th\\xE1ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"yearly\",\n                    children: \"Thanh to\\xE1n 1 n\\u0103m\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              mt: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleBack,\n              children: \"Quay l\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              onClick: handleNext,\n              disabled: !isStepValid(),\n              children: \"Ti\\u1EBFp theo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), activeStep === 2 && /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"X\\xE1c nh\\u1EADn \\u0111\\u0103ng k\\xFD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this), room && /*#__PURE__*/_jsxDEV(Card, {\n            variant: \"outlined\",\n            sx: {\n              mb: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                gutterBottom: true,\n                children: \"Th\\xF4ng tin ph\\xF2ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: [\"Ph\\xF2ng \", room.roomNumber, \" - T\\xF2a \", room.building]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: [\"Lo\\u1EA1i ph\\xF2ng: \", room.type]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: [\"Gi\\xE1 ph\\xF2ng: \", room.price.toLocaleString('vi-VN'), \" VN\\u0110/th\\xE1ng\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                sx: {\n                  my: 2\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                gutterBottom: true,\n                children: \"Th\\xF4ng tin \\u0111\\u0103ng k\\xFD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: [\"Ng\\xE0y b\\u1EAFt \\u0111\\u1EA7u: \", format(new Date(formData.startDate), 'dd/MM/yyyy')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: [\"Ng\\xE0y k\\u1EBFt th\\xFAc: \", format(new Date(formData.endDate), 'dd/MM/yyyy')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: [\"Ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n: \", formData.paymentMethod === 'monthly' ? 'Thanh toán hàng tháng' : formData.paymentMethod === 'quarterly' ? 'Thanh toán 3 tháng' : 'Thanh toán 1 năm']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"textSecondary\",\n              gutterBottom: true,\n              children: \"Vui l\\xF2ng \\u0111\\u1ECDc k\\u1EF9 c\\xE1c \\u0111i\\u1EC1u kho\\u1EA3n v\\xE0 \\u0111i\\u1EC1u ki\\u1EC7n tr\\u01B0\\u1EDBc khi \\u0111\\u0103ng k\\xFD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                mb: 2\n              },\n              children: \"1. B\\u1EA1n ph\\u1EA3i thanh to\\xE1n \\u0111\\u1EA7y \\u0111\\u1EE7 ti\\u1EC1n ph\\xF2ng theo \\u0111\\xFAng th\\u1EDDi h\\u1EA1n \\u0111\\xE3 ch\\u1ECDn.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                mb: 2\n              },\n              children: \"2. B\\u1EA1n ph\\u1EA3i tu\\xE2n th\\u1EE7 c\\xE1c quy \\u0111\\u1ECBnh c\\u1EE7a k\\xFD t\\xFAc x\\xE1.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                mb: 2\n              },\n              children: \"3. B\\u1EA1n ph\\u1EA3i b\\xE1o tr\\u01B0\\u1EDBc \\xEDt nh\\u1EA5t 1 th\\xE1ng n\\u1EBFu mu\\u1ED1n h\\u1EE7y \\u0111\\u0103ng k\\xFD.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                mb: 2\n              },\n              children: \"4. K\\xFD t\\xFAc x\\xE1 c\\xF3 quy\\u1EC1n t\\u1EEB ch\\u1ED1i \\u0111\\u0103ng k\\xFD n\\u1EBFu kh\\xF4ng \\u0111\\xE1p \\u1EE9ng \\u0111\\u1EE7 \\u0111i\\u1EC1u ki\\u1EC7n.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              onClick: () => setFormData({\n                ...formData,\n                agreement: !formData.agreement\n              }),\n              children: \"T\\xF4i \\u0111\\u1ED3ng \\xFD v\\u1EDBi c\\xE1c \\u0111i\\u1EC1u kho\\u1EA3n v\\xE0 \\u0111i\\u1EC1u ki\\u1EC7n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'space-between'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleBack,\n              children: \"Quay l\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              onClick: handleSubmit,\n              disabled: !isStepValid() || loading,\n              children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 30\n              }, this) : 'Xác nhận đăng ký'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n_s(RoomRegistration, \"lDdFHl6PIMg1it+v6+JvkH/oBu0=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = RoomRegistration;\nvar _c;\n$RefreshReg$(_c, \"RoomRegistration\");","map":{"version":3,"names":["React","useState","useEffect","Box","Container","Typography","Paper","Grid","TextField","Button","FormControl","InputLabel","Select","MenuItem","Alert","CircularProgress","Stepper","Step","StepLabel","Card","CardContent","Divider","useNavigate","useParams","roomService","roomAssignmentService","format","jsxDEV","_jsxDEV","steps","RoomRegistration","_s","roomId","navigate","activeStep","setActiveStep","loading","setLoading","error","setError","success","setSuccess","room","setRoom","formData","setFormData","startDate","endDate","paymentMethod","agreement","fetchRoomData","roomData","getRoomById","parseInt","err","message","handleInputChange","e","name","value","target","handleCheckboxChange","checked","handleNext","prevStep","handleBack","handleSubmit","assignRoom","id","studentId","setTimeout","isStepValid","display","justifyContent","alignItems","minHeight","children","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","sx","mt","mb","variant","component","gutterBottom","map","label","severity","p","container","spacing","item","xs","sm","roomNumber","color","building","floor","type","price","toLocaleString","currentOccupancy","capacity","onClick","disabled","fullWidth","onChange","InputLabelProps","shrink","my","Date","size","_c","$RefreshReg$"],"sources":["F:/mentor/ktx/frontend/src/pages/user/RoomRegistration.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Paper,\r\n  Grid,\r\n  TextField,\r\n  Button,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Alert,\r\n  CircularProgress,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  Card,\r\n  CardContent,\r\n  Divider,\r\n  SelectChangeEvent\r\n} from '@mui/material';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { roomService } from '../../services/room.service';\r\nimport { roomAssignmentService } from '../../services/roomAssignment.service';\r\nimport { format } from 'date-fns';\r\nimport { Room, RoomRegistrationForm } from '../../types/room';\r\n\r\nconst steps = ['Thông tin phòng', 'Thông tin đăng ký', 'Xác nhận'];\r\n\r\nexport const RoomRegistration: React.FC = () => {\r\n  const { roomId } = useParams<{ roomId: string }>();\r\n  const navigate = useNavigate();\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [room, setRoom] = useState<Room | null>(null);\r\n  const [formData, setFormData] = useState<RoomRegistrationForm>({\r\n    startDate: '',\r\n    endDate: '',\r\n    paymentMethod: 'monthly',\r\n    agreement: false\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchRoomData();\r\n  }, [roomId]);\r\n\r\n  const fetchRoomData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      if (roomId) {\r\n        const roomData = await roomService.getRoomById(parseInt(roomId));\r\n        setRoom(roomData);\r\n      }\r\n      setLoading(false);\r\n    } catch (err: any) {\r\n      setError(err.message || 'Không thể tải thông tin phòng');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement> | SelectChangeEvent<string>) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name as string]: value\r\n    });\r\n  };\r\n\r\n  const handleCheckboxChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, checked } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: checked\r\n    });\r\n  };\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevStep) => prevStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevStep) => prevStep - 1);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      setLoading(true);\r\n      if (room) {\r\n        await roomAssignmentService.assignRoom({\r\n          roomId: room.id,\r\n          studentId: 1, // TODO: Get actual student ID from auth context\r\n          startDate: formData.startDate,\r\n          endDate: formData.endDate\r\n        });\r\n        setSuccess('Đăng ký phòng thành công!');\r\n        setTimeout(() => {\r\n          navigate('/user/home');\r\n        }, 2000);\r\n      }\r\n    } catch (err: any) {\r\n      setError(err.message || 'Không thể đăng ký phòng');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const isStepValid = () => {\r\n    switch (activeStep) {\r\n      case 0:\r\n        return !!room;\r\n      case 1:\r\n        return !!formData.startDate && !!formData.endDate && !!formData.paymentMethod;\r\n      case 2:\r\n        return formData.agreement;\r\n      default:\r\n        return false;\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"60vh\">\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"md\">\r\n      <Box sx={{ mt: 4, mb: 4 }}>\r\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n          Đăng ký phòng\r\n        </Typography>\r\n\r\n        <Stepper activeStep={activeStep} sx={{ mb: 4 }}>\r\n          {steps.map((label) => (\r\n            <Step key={label}>\r\n              <StepLabel>{label}</StepLabel>\r\n            </Step>\r\n          ))}\r\n        </Stepper>\r\n\r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        {success && (\r\n          <Alert severity=\"success\" sx={{ mb: 2 }}>\r\n            {success}\r\n          </Alert>\r\n        )}\r\n\r\n        <Paper sx={{ p: 3 }}>\r\n          {activeStep === 0 && room && (\r\n            <Box>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Thông tin phòng\r\n              </Typography>\r\n              <Card variant=\"outlined\" sx={{ mb: 3 }}>\r\n                <CardContent>\r\n                  <Grid container spacing={2}>\r\n                    <Grid item xs={12} sm={6}>\r\n                      <Typography variant=\"subtitle1\">\r\n                        Phòng {room.roomNumber}\r\n                      </Typography>\r\n                      <Typography color=\"textSecondary\">\r\n                        Tòa {room.building} - Tầng {room.floor}\r\n                      </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                      <Typography variant=\"subtitle1\">\r\n                        {room.type}\r\n                      </Typography>\r\n                      <Typography color=\"textSecondary\">\r\n                        {room.price.toLocaleString('vi-VN')} VNĐ/tháng\r\n                      </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                      <Typography variant=\"body2\">\r\n                        Sức chứa: {room.currentOccupancy}/{room.capacity}\r\n                      </Typography>\r\n                    </Grid>\r\n                  </Grid>\r\n                </CardContent>\r\n              </Card>\r\n              <Box sx={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  onClick={handleNext}\r\n                  disabled={!isStepValid()}\r\n                >\r\n                  Tiếp theo\r\n                </Button>\r\n              </Box>\r\n            </Box>\r\n          )}\r\n\r\n          {activeStep === 1 && (\r\n            <Box>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Thông tin đăng ký\r\n              </Typography>\r\n              <Grid container spacing={3}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Ngày bắt đầu\"\r\n                    type=\"date\"\r\n                    name=\"startDate\"\r\n                    value={formData.startDate}\r\n                    onChange={handleInputChange}\r\n                    InputLabelProps={{ shrink: true }}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Ngày kết thúc\"\r\n                    type=\"date\"\r\n                    name=\"endDate\"\r\n                    value={formData.endDate}\r\n                    onChange={handleInputChange}\r\n                    InputLabelProps={{ shrink: true }}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <FormControl fullWidth>\r\n                    <InputLabel>Phương thức thanh toán</InputLabel>\r\n                    <Select\r\n                      name=\"paymentMethod\"\r\n                      value={formData.paymentMethod}\r\n                      onChange={handleInputChange}\r\n                      label=\"Phương thức thanh toán\"\r\n                    >\r\n                      <MenuItem value=\"monthly\">Thanh toán hàng tháng</MenuItem>\r\n                      <MenuItem value=\"quarterly\">Thanh toán 3 tháng</MenuItem>\r\n                      <MenuItem value=\"yearly\">Thanh toán 1 năm</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n              </Grid>\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 3 }}>\r\n                <Button onClick={handleBack}>\r\n                  Quay lại\r\n                </Button>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  onClick={handleNext}\r\n                  disabled={!isStepValid()}\r\n                >\r\n                  Tiếp theo\r\n                </Button>\r\n              </Box>\r\n            </Box>\r\n          )}\r\n\r\n          {activeStep === 2 && (\r\n            <Box>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Xác nhận đăng ký\r\n              </Typography>\r\n              {room && (\r\n                <Card variant=\"outlined\" sx={{ mb: 3 }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"subtitle1\" gutterBottom>\r\n                      Thông tin phòng\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                      Phòng {room.roomNumber} - Tòa {room.building}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                      Loại phòng: {room.type}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                      Giá phòng: {room.price.toLocaleString('vi-VN')} VNĐ/tháng\r\n                    </Typography>\r\n                    <Divider sx={{ my: 2 }} />\r\n                    <Typography variant=\"subtitle1\" gutterBottom>\r\n                      Thông tin đăng ký\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                      Ngày bắt đầu: {format(new Date(formData.startDate), 'dd/MM/yyyy')}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                      Ngày kết thúc: {format(new Date(formData.endDate), 'dd/MM/yyyy')}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                      Phương thức thanh toán: {\r\n                        formData.paymentMethod === 'monthly' ? 'Thanh toán hàng tháng' :\r\n                        formData.paymentMethod === 'quarterly' ? 'Thanh toán 3 tháng' :\r\n                        'Thanh toán 1 năm'\r\n                      }\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              )}\r\n              <Box sx={{ mb: 3 }}>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\r\n                  Vui lòng đọc kỹ các điều khoản và điều kiện trước khi đăng ký\r\n                </Typography>\r\n                <Typography variant=\"body2\" sx={{ mb: 2 }}>\r\n                  1. Bạn phải thanh toán đầy đủ tiền phòng theo đúng thời hạn đã chọn.\r\n                </Typography>\r\n                <Typography variant=\"body2\" sx={{ mb: 2 }}>\r\n                  2. Bạn phải tuân thủ các quy định của ký túc xá.\r\n                </Typography>\r\n                <Typography variant=\"body2\" sx={{ mb: 2 }}>\r\n                  3. Bạn phải báo trước ít nhất 1 tháng nếu muốn hủy đăng ký.\r\n                </Typography>\r\n                <Typography variant=\"body2\" sx={{ mb: 2 }}>\r\n                  4. Ký túc xá có quyền từ chối đăng ký nếu không đáp ứng đủ điều kiện.\r\n                </Typography>\r\n              </Box>\r\n              <Box sx={{ mb: 3 }}>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  onClick={() => setFormData({ ...formData, agreement: !formData.agreement })}\r\n                >\r\n                  Tôi đồng ý với các điều khoản và điều kiện\r\n                </Button>\r\n              </Box>\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                <Button onClick={handleBack}>\r\n                  Quay lại\r\n                </Button>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  onClick={handleSubmit}\r\n                  disabled={!isStepValid() || loading}\r\n                >\r\n                  {loading ? <CircularProgress size={24} /> : 'Xác nhận đăng ký'}\r\n                </Button>\r\n              </Box>\r\n            </Box>\r\n          )}\r\n        </Paper>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}